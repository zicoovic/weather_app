(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1541:function(e,t,n){"use strict";var o=n(1);t.a=function(e){Object(o.useEffect)(function(){var t=function(){e()};return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t),e()}},[e])}},2319:function(e,t,n){e.exports={bundleRecommendations:"styles__bundleRecommendations--1Kcjv",busy:"styles__busy--2nQ8w",close:"styles__close--3UTBu",desktop:"styles__desktop--1Suxn",mobile:"styles__mobile--g39HX",productImage:"styles__productImage--1oEsH",description:"styles__description--2ypl9",productGridWrapper:"styles__productGridWrapper--i8cQd",productCard:"styles__productCard--3RSUK",productGrid:"styles__productGrid--3vLdy"}},2355:function(e,t,n){"use strict";n.r(t);var o,a=n(1),r=n.n(a),i=n(38),s=n.n(i),c=n(1297),d=n.n(c),l=n(9),u=n(34),p=n(19),m=n.n(p),f=n(4),v=n(24),y=n(7),g=n(1293),b=n(2),h=n(155),w=n(1323),I=n(184),k=n(2319),x=n.n(k),B=n(0),C=n.n(B),O=n(77),j=n(1415),T=n(1304),R=n(98),S=n(1341),_=n(1757);function M(e,t,n,a){o||(o="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var c=new Array(i),d=0;d<i;d++)c[d]=arguments[d+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var D=M(j.a,{}),E=M(y.a,{type:"caption",muted:!0,marginBottom:"m",marginLeft:"xxs","data-testid":"vat-message"},void 0,M(l.a,{id:"shared.components.BundleRecommendations.761544404",defaultMessage:"incl. VAT","data-react-ds-adoption":!0})),P=M(l.a,{id:"shared.components.BundleRecommendations.3300111594",defaultMessage:"View Cart","data-react-ds-adoption":!0}),A=function(e){var t=e.inventoryItem,n=e.work,o=e.profile,a=t.price,r=n.title,i=Object(R.c)().userInfo,c=m()(t,"attributes")||[],d=m()(t,"description",null),u=Object(T.g)(c,"defaultText").join(", "),p=m()(i,"country"),g=function(e){var t=e.inventoryItem,n=e.work,o=e.userInfo;if(n.isMatureContent&&!o.showMatureContent)return Object(S.a)(o.locale);var a=m()(t,"previewSet.previews",[]).find(function(e){return"product_close"===e.previewTypeId});return a&&a.url?a.url:null}({inventoryItem:t,work:n,userInfo:i});return M("div",{style:{minWidth:"100%"},"data-testid":"item-summary"},void 0,M(f.a,{display:"flex",alignItems:"center",justifyContent:"space-between"},void 0,M(f.a,{style:{minWidth:0}},void 0,M(f.a,{display:"flex",alignItems:"center",marginRight:"xs",marginBottom:"xs"},void 0,M(f.a,{marginRight:"xs"},void 0,M("div",{className:x.a.productImage,"data-react-ds-adoption":!0},void 0,D,M(O.a,{src:g,roundedCorners:!0}))),M(f.a,{flex:"1",style:{minWidth:0}},void 0,M(y.a,{lineClamp:1,display:"block",type:"display5"},void 0,s()(r,["Text","Box","Button","constants","Image","CheckDiscIcon"])),M(y.a,{lineClamp:1,display:"block",type:"body2"},void 0,s()(d,["Text","Box","Button","constants","Image","CheckDiscIcon"])),M(y.a,{lineClamp:1,display:"block",type:"caption"},void 0,s()(u,["Text","Box","Button","constants","Image","CheckDiscIcon"])),s()(a&&M(y.a,{type:"display5",display:"block"},void 0,M(l.b,{value:a.amount,style:"currency",currency:a.currency,"data-react-ds-adoption":!0}),s()(Object(_.b)(p)&&E,["Text","Box","Button","constants","Image","CheckDiscIcon"])),["Text","Box","Button","constants","Image","CheckDiscIcon"])))),s()(o===b.w?M(v.a,{onClick:function(){window.location.href="/cart"},intent:b.y,size:b.v,"data-testid":"view-cart-btn"},void 0,P):null,["Text","Box","Button","constants","Image","CheckDiscIcon"])))};A.propTypes={inventoryItem:C.a.shape({id:C.a.string.isRequired,description:C.a.string.isRequired,price:C.a.shape({amount:C.a.number.isRequired,currency:C.a.string.isRequired}),productTypeId:C.a.string,productPageUrl:C.a.string.isRequired,gaCode:C.a.string,gaCategory:C.a.string}),work:C.a.shape({id:C.a.string,title:C.a.string,isMatureContent:C.a.bool,artistName:C.a.string}),profile:C.a.string},A.defaultProps={inventoryItem:{},work:{},profile:b.w};var N,W,q,G,L=A,U=n(1567),V=n(1430),$=n(1759),z=n(236),F=n(1391),K=n(1301),H=n(1418),J=n(1541),Q=n(1578),X=n(1416),Y=n(1417),Z=n(1340),ee=n(1392),te=n.n(ee),ne=n(1760),oe=n(1764),ae=n(1507),re=n(1302),ie=n(41),se=n(1570),ce=n(1758);function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){pe(e,t,n[t])})}return e}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,a=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(c){a=!0,r=c}finally{try{o||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ue(e,t,n,o){G||(G="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===r)t.children=o;else if(r>1){for(var s=new Array(r),c=0;c<r;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:G,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me=Object(l.e)({similarDesigns:(N={id:"shared.components.BundleRecommendations.similarDesigns"},pe(N,"id","shared.components.BundleRecommendations.similarDesigns"),pe(N,"defaultMessage","Similar designs"),N),next:(W={id:"shared.components.BundleRecommendations.next"},pe(W,"id","shared.components.BundleRecommendations.next"),pe(W,"defaultMessage","Next"),W),back:(q={id:"shared.components.BundleRecommendations.back"},pe(q,"id","shared.components.BundleRecommendations.back"),pe(q,"defaultMessage","Back"),q)}),fe=function(e){var t=e.title,n=e.caption;return ue(f.a,{className:x.a.productCard},void 0,ue(ne.a,{title:t,caption:n,"data-react-ds-adoption":!0}))};fe.propTypes={title:C.a.string,caption:C.a.string},fe.defaultProps={title:"",caption:""};var ve=function(e){var t=e.inventoryItemId,n=e.intl,o=e.testId,i=e.showMatureContent,c=Object(R.c)().userInfo,d=Object(oe.a)({userInfo:c,inventoryItemId:t,ssr:!1}),l=d.similarDesigns,u=d.similarDesignsLoading,p=Object(se.a)(),v=(Object(a.useContext)(V.b)||{}).carouselUUID,g=Object(a.useMemo)(function(){var e=l.map(function(e){return m()(e,"inventoryItem")}).filter(Boolean);return Object(ae.a)({inventoryItems:e},n,{showArtistName:!0,showWorkTitle:!0,showDescription:!0,previewType:re.h,useDefaultPreviewType:!1})},[l,n]),b=Object(ce.a)(g),h=le(Object(a.useState)([]),2),I=h[0],k=h[1];Object(a.useEffect)(function(){k(g.map(function(){return!1}))},[g]);if(!Array.isArray(l)||!l.length&&!u)return null;var B=u?new Array(8).fill({}):g;return ue(Z.a,{},void 0,function(e){var t=e.inView,a=e.ref;return r.a.createElement(f.a,{ref:a,padding:"m","data-testid":o},ue(w.a,{spacing:"m"},void 0,ue(y.a,{id:"similar-designs-title",type:"display3"},void 0,s()(n.formatMessage(me.similarDesigns),["Box","Text","Stack"])),ue(f.a,{className:x.a.productGrid},void 0,s()(B.map(function(e,o){var a=m()(e,"href")?Object(ie.n)(e.href,v):void 0;return u?ue(fe,{title:"Loading..","data-react-ds-adoption":!0},"product-swiper-card-".concat(o)):ue(Z.a,{onChange:function(e){return n=t,a=e,r=o,k(I.map(function(e,t){return t===r?a:e})),void(!u&&n&&b&&te()(b,100));var n,a,r},className:x.a.productCard,"data-react-ds-adoption":!0},"slide_".concat(o),ue(ne.b,{product:de(de({},e),{},{href:a}),intl:n,showMatureContent:i,loading:u,onClick:function(){p({product:e,idx:o,url:e.href})}},"product-swiper-card-".concat(o)))}),["Box","Text","Stack"]))))})};ve.displayName="ProductRecommendationsGrid",ve.propTypes={inventoryItemId:C.a.string,intl:l.g.isRequired,testId:C.a.string,showMatureContent:C.a.bool},ve.defaultProps={inventoryItemId:null,testId:"",showMatureContent:!1};var ye,ge,be,he,we,Ie=ve;function ke(e,t,n,o){we||(we="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===r)t.children=o;else if(r>1){for(var s=new Array(r),c=0;c<r;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:we,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,a=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(c){a=!0,r=c}finally{try{o||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"BundleRecommendationsComponent",function(){return je});var Ce=Object(l.e)({accessibleTitle:(ye={id:"shared.components.BundleRecommendations.accessibleTitle"},Be(ye,"id","shared.components.BundleRecommendations.accessibleTitle"),Be(ye,"defaultMessage","Item summary"),ye),title:(ge={id:"shared.components.BundleRecommendations.title"},Be(ge,"id","shared.components.BundleRecommendations.title"),Be(ge,"defaultMessage","It's in the cart!"),ge),viewCart:(be={id:"shared.components.BundleRecommendations.viewCart"},Be(be,"id","shared.components.BundleRecommendations.viewCart"),Be(be,"defaultMessage","View cart"),be),keepShopping:(he={id:"shared.components.BundleRecommendations.keepShopping"},Be(he,"id","shared.components.BundleRecommendations.keepShopping"),Be(he,"defaultMessage","Keep shopping"),he)}),Oe=ke(h.a,{}),je=function(e){var t=e.profile,n=e.intl,o=e.inventoryItem,r=e.work,i=Object(F.b)(),c=i.bundleRecommendationsOpen,l=i.closeBundleRecommendations,u=Object(K.a)().logEvent,p=Object(I.useSessionContext)().isBot,h=Object(H.b)().sendImpressions,k=Object(X.a)(),B=k.fetchMessages,C=k.cartMessages,O=xe(Object(a.useState)(!1),2),j=O[0],T=O[1],R=m()(o,"gaCategory");Object(a.useEffect)(function(){c&&B()},[B,c]),Object(a.useEffect)(function(){j||(p||B(),T(!0))},[B,j,p]);var S=t===b.w,_=S?"s":"l",M=S?"xl":"xxxl",D=function(e){var t=e.componentName;u({analytics:z.w.productPageComponentShowed(t)})};Object(J.a)(function(){h(z.v)});var E=ke(L,{inventoryItem:o,work:r,profile:t,"data-react-ds-adoption":!0}),P=ke(Y.a,{messages:C,category:R,"data-react-ds-adoption":!0});return ke(g.a,{accessibleTitle:n.formatMessage(Ce.accessibleTitle),from:S?b.a:b.E,size:S?b.t:b.F,fit:!S,open:c,onCloseRequested:l,allowClicksOutsideWhenActive:!0},void 0,s()(function(e){var t,a=e.close;return ke(f.a,{className:d()(x.a.bundleRecommendations,(t={},Be(t,x.a.desktop,!S),Be(t,x.a.mobile,S),t)),padding:_,paddingTop:M},void 0,ke(f.a,{className:x.a.close,padding:_},void 0,ke(v.a,{id:"close-button-item-summary-drawer",strong:!0,size:b.F,circle:!0,iconBefore:Oe,onClick:a})),ke(f.a,{paddingBottom:"s"},void 0,ke(y.a,{type:"display2"},void 0,s()(n.formatMessage(Ce.title),["Box","Button","Text","Drawer","constants","CloseIcon","Stack"]))),E,s()(!S&&ke(w.a,{spacing:"s",paddingTop:"m","data-testid":"navigation-stack"},void 0,ke(v.a,{size:b.t,strong:!0,intent:b.y,fluid:!0,href:"/cart",onClick:function(){return u({analytics:z.w.ATCDrawerCartViewed()})}},void 0,s()(n.formatMessage(Ce.viewCart),["Box","Button","Text","Drawer","constants","CloseIcon","Stack"])),ke(v.a,{size:b.t,fluid:!0,onClick:a},void 0,s()(n.formatMessage(Ce.keepShopping),["Box","Button","Text","Drawer","constants","CloseIcon","Stack"]))),["Box","Button","Text","Drawer","constants","CloseIcon","Stack"]),P,ke(f.a,{className:d()(x.a.productGridWrapper,Be({},x.a.desktop,!S))},void 0,ke(V.a,{category:z.v,component:z.d,customLabel:z.c,isEnhancedEcommerceEnabled:!0,isCarouselUUIDEnabled:!0,"data-react-ds-adoption":!0},void 0,ke($.a,{component:z.d},void 0,ke(U.a,{onFirstView:D,componentName:z.d},void 0,ke(Ie,{intl:n,inventoryItemId:m()(o,"id")}))))))},["Box","Button","Text","Drawer","constants","CloseIcon","Stack"]))};t.default=Object(u.d)(l.f,Q.a)(je)}}]);
//# sourceMappingURL=bundle_recommendations-77b3dd6be7c9cf2f6af9.js.map